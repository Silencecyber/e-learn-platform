{% load static %}
{% load paragraph %}
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Course detail</title>
    <meta content="width=device-width, initial-scale=1" name="viewport" />
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="{% static 'css/progress_bar.css' %}">
    <link href="{% static 'css/course_detail.css' %}" rel="stylesheet" type="text/css" />
    <link href="{% static 'icon.ico' %}" rel="shortcut icon" type="image/x-icon" />
    <link href="{% static 'icon.ico' %}" rel="apple-touch-icon" />
  </head>
  <body>
    <div class="navbar-logo-left wf-section">
      <div data-animation="default" data-collapse="medium" data-duration="400" data-easing="ease" data-easing2="ease" role="banner" class="navbar-logo-left-container shadow-three w-nav">
        <div class="container">
          <div class="navbar-wrapper">
            <a href="{% url 'about' %}" class="navbar-brand w-nav-brand">
              <h3>E-learn</h3>
            </a>
            <nav role="navigation" class="nav-menu-wrapper w-nav-menu">
              <ul role="list" class="nav-menu-two w-list-unstyled">
                <li>
                  <a href="{% url 'plattform:home' %}" class="nav-link">Home</a>
                </li>
                <li>
                  <a href="{% url 'plattform:profile' %}" class="nav-link">Profile</a>
                </li>

                {% if is_teacher %}
                                <li>
                                  <a href="{% url 'plattform:courses' %}" class="nav-link">Courses</a>
                                </li>
                                <li>
                                  <a href="{% url 'plattform:students' %}" class="nav-link">Students</a>
                                </li>
                                <li>
                                  <a href="{% url 'plattform:teachers' %}" class="nav-link">Teachers</a>
                                </li>
                {% endif %}


                <li>
                  <form action="{% url 'plattform:logout' %}" method="POST">
                    {% csrf_token %}
                    <input type="submit" class="nav-link" style="border:none;background:none;" value="Logout">

                  </form>
                </li>

              </ul>
            </nav>
            <div class="menu-button w-nav-button">
              <div class="w-icon-nav-menu"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <section class="combine-section_feature3">
      <div class="combine-padding-global-4">
        <div class="combine-container-large-3">
          <div class="combine-padding-section-medium-4">
            <div class="combine-feature3_component">
              <div class="combine-feature3_content">
                <h2 class="combine-heading-style-h2-4">{{ course.name |safe }}</h2>
                <div class="combine-text-size-regular-4">{{ course_description|br:40|safe }}</div>
                <div class="combine-text-size-regular-4"><h6>Created by <a style="color:#5f6570" href="{% url 'plattform:other_profile' pk=course.author.id %}">{{ course.author.profile.first_name }} {{ course.author.profile.last_name }}</a></h6></div>


<div class="combine-text-size-regular-4">This is your course progress in %</div>
                 <div class="w3-light-grey w3-round-xlarge" style="width: 50%;background-color:#dfdfdf;">
    <div class="w3-container w3-blue w3-round-xlarge w3-center" style="width:{{ progress }}%">{{ progress }}</div>
                 </div>




                <div class="combine-text-size-regular-4">You can see your classmates here:</div>
                <a href="{% url 'plattform:classmates' pk=course.id %}" class="button-5 w-button">Classmates</a>
              </div>
              <div class="combine-feature3_image-wrapper">
                <img src="{% if course.image %}/media/{{ course.image }} {% else %}/static/images/default-course-image.png{% endif %}" loading="lazy" sizes="(max-width: 479px) 93vw, (max-width: 767px) 95vw, (max-width: 991px) 33vw, 36vw"  alt="feature illustration" class="combine-feature3_image" />
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <section class="combine-section_cta1">
      <div class="combine-padding-global-4">
        <div class="combine-container-small-4">
          <div class="combine-padding-section-large">
            <div class="combine-text-align-center-4">
              <h2 class="combine-heading-style-h2-4">Time to learn something new...</h2>
            </div>
          </div>
        </div>
      </div>
    </section>
    <section class="combine-section_faq1">
      <div class="combine-padding-global-3">
        <div class="combine-padding-section-medium-3">
          <div class="combine-container-small-3"></div>
          <div class="combine-container-medium">
            <div class="combine-faq1_component">

              {% for module_data in modules_data %}
              <div id="w-node-b44151e8-60e1-63e4-0236-8e413c4b7114-2e1de73d" class="combine-faq1_accordion">
                <div class="combine-faq1_question">
                  <div class="combine-faq1_expander">
                    <div class="combine-icon_color4">
                      <div class="combine-icon_small w-embed">
                        <svg   viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <g clip-path="url(#clip0_677_666)">
                            <path d="M8 1.77777V14.2222" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                            <path d="M1.77783 8H14.2223" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                          </g>
                          <defs>
                            <clipPath id="clip0_677_666">
                              <rect width="16" height="16" fill="currentColor" />
                            </clipPath>
                          </defs>
                        </svg>
                      </div>
                    </div>
                  </div>
                  <div class="combine-faq1_title">  {{ module_data.module_name }}</div>
                </div>
                <div class="combine-faq1_answer">
                  <ul role="list" class="list" style="list-style-type: none;">
                    {% for topic in  module_data.topics.topics %}
                    <li style="margin:1rem;"><img src="{% static 'course.png' %}" width="35px"><a href="{% url 'plattform:topic_detail' pk=topic.topic.id %}" style="color:#727272;text-decoration:none">&nbsp;&nbsp;&nbsp;{{ topic.topic.name}}</a>{% if topic.got.got %} ✔ {% endif %}</li>
                    {% endfor %}

                    {% for quiz_dict in module_data.quizes %}
                    <li style="margin:1rem;"><img src="{% static 'quiz_icon.png' %}" width="35px"><a href="{% url 'plattform:quiz' module_id=module_data.module.id quiz_id=quiz_dict.quiz.id %}" style="color:#3984de;text-decoration:none">&nbsp;&nbsp;&nbsp;Quiz: {{ quiz_dict.quiz.name }}</a> Result: {{ quiz_dict.quiz_result.result }}%</li>
                    {% endfor %}

                  </ul>
                  <div class="combine-space-medium-3"></div>
                </div>
              </div>
              {% endfor %}
            </div>
          </div>
        </div>
      </div>
    </section>


      <section class="footer-dark wf-section">
        <div class="container-2">
          <div class="footer-wrapper">
            <a href="{% url 'about' %}">
              <img src="{% static 'landing/black_logo.png' %}" width="141px" height="40px" loading="lazy" alt="" />
            </a>
                <div class="footer-content">
              <div class="footer-block">
                <div class="title-small">Company</div>
                <a href="#" class="footer-link">How it works</a>
                <a href="#" class="footer-link">Pricing</a>
                <a href="#" class="footer-link">Docs</a>
              </div>
              <div  class="footer-block">
                <div class="title-small">About</div>
                <a href="#" class="footer-link">Terms &amp; Conditions</a>
                <a href="#" class="footer-link">Privacy policy</a>
                <div class="footer-social-block">
                  <a href="#" class="footer-social-link-2 w-inline-block">
                  <img src="{% static 'twitter_icon.svg' %}" loading="lazy" alt="" />
                </a>
                <a href="#" class="footer-social-link-2 w-inline-block">
                  <img src="{% static 'linkedin_icon.svg' %}" loading="lazy" alt="" />
                </a>
                <a href="#" class="footer-social-link-2 w-inline-block">
                  <img src="{% static 'facebook_icon.svg' %}" loading="lazy" alt="" />
                </a>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="footer-divider"></div>
        <div class="footer-copyright-center">Copyright © 2023 E-Learn company</div>
      </section>

    <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=63bdafe8bcdc8414831de73c" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="{% static 'js/basic_nav.js' %}" type="text/javascript"></script>
    <script src="{% static 'js/course_detail.js' %}" type="text/javascript"></script>
  {% if is_teacher %}

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Warning</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <p id="error"></p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Ok</button>
      </div>
    </div>
  </div>
</div>


    <script type="text/javascript">
        $(document).ready(function(){

    $("#error").html("Warning!You are a teacher! All results and topic status are not valid. This is just placeholders");
      $('#exampleModal').modal("show");
  });
    </script>

{% endif %}

  </body>
</html>